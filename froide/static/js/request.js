!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.request=e():(t.Froide=t.Froide||{},t.Froide.components=t.Froide.components||{},t.Froide.components.request=e())}(window,function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=70)}({16:function(t,e,n){var i,o,a;o=[],void 0===(a="function"==typeof(i=function(){"use strict";var t="undefined"!=typeof window?window:this||window,e=document,n=e.documentElement,i=t.BSN={},o=i.supports=[],a="active",l="left",r="top",s="onmouseleave"in e?["mouseenter","mouseleave"]:["mouseover","mouseout"],d=/\b(top|bottom|left|right)+/,c=0,u="WebkitTransition"in n.style||"Transition".toLowerCase()in n.style,h="WebkitTransition"in n.style?"Webkit".toLowerCase()+"TransitionEnd":"Transition".toLowerCase()+"end",f="WebkitDuration"in n.style?"Webkit".toLowerCase()+"TransitionDuration":"Transition".toLowerCase()+"Duration",p=function(t){t.focus?t.focus():t.setActive()},g=function(t,e){t.classList.add(e)},m=function(t,e){t.classList.remove(e)},y=function(t,e){return t.classList.contains(e)},b=function(t,e){return[].slice.call(t.getElementsByClassName(e))},w=function(t,n){var i=n||e;return"object"==typeof t?t:i.querySelector(t)},v=function(t,n){var i=n.charAt(0),o=n.substr(1);if("."===i){for(;t&&t!==e;t=t.parentNode)if(null!==w(n,t.parentNode)&&y(t,o))return t}else if("#"===i)for(;t&&t!==e;t=t.parentNode)if(t.id===o)return t;return!1},A=function(t,e,n){t.addEventListener(e,n,!1)},x=function(t,e,n){t.removeEventListener(e,n,!1)},T=function(e){var n=u?t.getComputedStyle(e)[f]:0;return n="number"!=typeof(n=parseFloat(n))||isNaN(n)?0:1e3*n},k=function(t,e){var n=0,i=T(t);i?function(t,e,n){A(t,e,function i(o){n(o),x(t,e,i)})}(t,h,function(t){!n&&e(t),n=1}):setTimeout(function(){!n&&e(),n=1},17)},S=function(t,e,n){var i=new CustomEvent(t+".bs."+e);i.relatedTarget=n,this.dispatchEvent(i)},C=function(i,o,a,s){var c,u,h,f,p,g,m={w:o.offsetWidth,h:o.offsetHeight},b=n.clientWidth||e.body.clientWidth,v=n.clientHeight||e.body.clientHeight,A=i.getBoundingClientRect(),x=s===e.body?{y:t.pageYOffset||n.scrollTop,x:t.pageXOffset||n.scrollLeft}:{x:s.offsetLeft+s.scrollLeft,y:s.offsetTop+s.scrollTop},T={w:A.right-A.left,h:A.bottom-A.top},k=y(o,"popover"),S=w(".arrow",o),C=A.top+T.h/2-m.h/2<0,N=A.left+T.w/2-m.w/2<0,q=A.left+m.w/2+T.w/2>=b,E=A.top+m.h/2+T.h/2>=v,L=A.top-m.h<0,H=A.left-m.w<0,D=A.top+m.h+T.h>=v,M=A.left+m.w+T.w>=b;a="right"===(a=(a="bottom"===(a=(a=(a===l||"right"===a)&&H&&M?r:a)===r&&L?"bottom":a)&&D?r:a)===l&&H?"right":a)&&M?l:a,-1===o.className.indexOf(a)&&(o.className=o.className.replace(d,a)),p=S.offsetWidth,g=S.offsetHeight,a===l||"right"===a?(u=a===l?A.left+x.x-m.w-(k?p:0):A.left+x.x+T.w,C?(c=A.top+x.y,h=T.h/2-p):E?(c=A.top+x.y-m.h+T.h,h=m.h-T.h/2-p):(c=A.top+x.y-m.h/2+T.h/2,h=m.h/2-(k?.9*g:g/2))):a!==r&&"bottom"!==a||(c=a===r?A.top+x.y-m.h-(k?g:0):A.top+x.y+T.h,N?(u=0,f=A.left+T.w/2-p):q?(u=b-1.01*m.w,f=m.w-(b-A.left)+T.w/2-p/2):(u=A.left+x.x-m.w/2+T.w/2,f=m.w/2-p/2)),o.style.top=c+"px",o.style.left=u+"px",h&&(S.style.top=h+"px"),f&&(S.style.left=f+"px")};i.version="2.0.26";var N=function(i,o){var a=(i=w(i)).getAttribute("data-target")||i.getAttribute("href"),l=w(a),r=y(i,"modal")?i:l;if(y(i,"modal")&&(i=null),r){o=o||{},this.keyboard=!1!==o.keyboard&&"false"!==r.getAttribute("data-keyboard"),this.backdrop="static"!==o.backdrop&&"static"!==r.getAttribute("data-backdrop")||"static",this.backdrop=!1!==o.backdrop&&"false"!==r.getAttribute("data-backdrop")&&this.backdrop,this.content=o.content;var s,d,h,f,v=this,C=null,N=b(n,"fixed-top").concat(b(n,"fixed-bottom")),q=function(){var n,i=t.getComputedStyle(e.body),o=parseInt(i.paddingRight,10);if(s&&(e.body.style.paddingRight=o+d+"px",r.style.paddingRight=d+"px",N.length))for(var a=0;a<N.length;a++)n=t.getComputedStyle(N[a]).paddingRight,N[a].style.paddingRight=parseInt(n)+d+"px"},E=function(){s=e.body.clientWidth<function(){var e=n.getBoundingClientRect();return t.innerWidth||e.right-Math.abs(e.left)}(),d=function(){var t,n=e.createElement("div");return n.className="modal-scrollbar-measure",e.body.appendChild(n),t=n.offsetWidth-n.clientWidth,e.body.removeChild(n),t}()},L=function(){(h=w(".modal-backdrop"))&&null!==h&&"object"==typeof h&&(c=0,e.body.removeChild(h),h=null),S.call(r,"hidden","modal")},H=function(){y(r,"show")?A(e,"keydown",j):x(e,"keydown",j)},D=function(){y(r,"show")?A(t,"resize",v.update):x(t,"resize",v.update)},M=function(){y(r,"show")?A(r,"click",R):x(r,"click",R)},O=function(){D(),M(),H(),p(r),S.call(r,"shown","modal",C)},W=function(){r.style.display="",i&&p(i),b(e,"modal show")[0]||(function(){if(e.body.style.paddingRight="",r.style.paddingRight="",N.length)for(var t=0;t<N.length;t++)N[t].style.paddingRight=""}(),m(e.body,"modal-open"),h&&y(h,"fade")?(m(h,"show"),k(h,L)):L(),D(),M(),H())},j=function(t){v.keyboard&&27==t.which&&y(r,"show")&&v.hide()},R=function(t){var e=t.target;y(r,"show")&&("modal"===e.parentNode.getAttribute("data-dismiss")||"modal"===e.getAttribute("data-dismiss")||e===r&&"static"!==v.backdrop)&&(v.hide(),C=null,t.preventDefault())};this.toggle=function(){y(r,"show")?this.hide():this.show()},this.show=function(){S.call(r,"show","modal",C);var t=b(e,"modal show")[0];t&&t!==r&&("modalTrigger"in t&&t.modalTrigger.Modal.hide(),"Modal"in t&&t.Modal.hide()),this.backdrop&&!c&&function(){c=1;var t=e.createElement("div");null===(h=w(".modal-backdrop"))&&(t.setAttribute("class","modal-backdrop fade"),h=t,e.body.appendChild(h))}(),h&&c&&!y(h,"show")&&(h.offsetWidth,f=T(h),g(h,"show")),setTimeout(function(){r.style.display="block",E(),q(),g(e.body,"modal-open"),g(r,"show"),r.setAttribute("aria-hidden",!1),y(r,"fade")?k(r,O):O()},u&&h?f:0)},this.hide=function(){S.call(r,"hide","modal"),h=w(".modal-backdrop"),f=h&&T(h),m(r,"show"),r.setAttribute("aria-hidden",!0),setTimeout(function(){y(r,"fade")?k(r,W):W()},u&&h?f:0)},this.setContent=function(t){w(".modal-content",r).innerHTML=t},this.update=function(){y(r,"show")&&(E(),q())},!i||"Modal"in i||A(i,"click",function(t){var e=t.target;(e=e.hasAttribute("data-target")||e.hasAttribute("href")?e:e.parentNode)!==i||y(r,"show")||(r.modalTrigger=i,C=i,v.show(),t.preventDefault())}),v.content&&v.setContent(v.content),i?(i.Modal=v,r.modalTrigger=i):r.Modal=v}};o.push(["Modal",N,'[data-toggle="modal"]']);var q=function(t,n){t=w(t),this.persist=!0===n||"true"===t.getAttribute("data-persist")||!1;var i=this,o=t.parentNode,a=null,l=w(".dropdown-menu",o),r=function(){for(var t=l.children,e=[],n=0;n<t.length;n++)t[n].children.length&&"A"===t[n].children[0].tagName&&e.push(t[n].children[0]),"A"===t[n].tagName&&e.push(t[n]);return e}(),s=function(t){(t.href&&"#"===t.href.slice(-1)||t.parentNode&&t.parentNode.href&&"#"===t.parentNode.href.slice(-1))&&this.preventDefault()},d=function(){var n=t.open?A:x;n(e,"click",c),n(e,"keydown",h),n(e,"keyup",f)},c=function(e){var n=e.target,o=n&&("Dropdown"in n||"Dropdown"in n.parentNode);(n!==l&&!l.contains(n)||!i.persist&&!o)&&(a=n===t||t.contains(n)?t:null,v(),s.call(e,n))},u=function(e){a=t,b(),s.call(e,e.target)},h=function(t){var e=t.which||t.keyCode;38!==e&&40!==e||t.preventDefault()},f=function(n){var o=n.which||n.keyCode,s=e.activeElement,d=r.indexOf(s),c=s===t,u=l.contains(s),h=s.parentNode===l||s.parentNode.parentNode===l;(h||c)&&(d=c?0:38===o?d>1?d-1:0:40===o&&d<r.length-1?d+1:d,r[d]&&p(r[d])),(r.length&&h||!r.length&&(u||c)||!u)&&t.open&&27===o&&(i.toggle(),a=null)},b=function(){S.call(o,"show","dropdown",a),g(l,"show"),g(o,"show"),t.setAttribute("aria-expanded",!0),S.call(o,"shown","dropdown",a),t.open=!0,x(t,"click",u),setTimeout(function(){p(l.getElementsByTagName("INPUT")[0]||t),d()},1)},v=function(){S.call(o,"hide","dropdown",a),m(l,"show"),m(o,"show"),t.setAttribute("aria-expanded",!1),S.call(o,"hidden","dropdown",a),t.open=!1,d(),p(t),setTimeout(function(){A(t,"click",u)},1)};t.open=!1,this.toggle=function(){y(o,"show")&&t.open?v():b()},"Dropdown"in t||(!1 in l&&l.setAttribute("tabindex","0"),A(t,"click",u)),t.Dropdown=i};o.push(["Dropdown",q,'[data-toggle="dropdown"]']);var E=function(t,e){t=w(t),e=e||{};var n,i,o=null,a=null,l=this,r=t.getAttribute("data-parent"),s=function(t,e){S.call(t,"hide","collapse"),t.isAnimating=!0,t.style.height=t.scrollHeight+"px",m(t,"collapse"),m(t,"show"),g(t,"collapsing"),t.offsetWidth,t.style.height="0px",k(t,function(){t.isAnimating=!1,t.setAttribute("aria-expanded","false"),e.setAttribute("aria-expanded","false"),m(t,"collapsing"),g(t,"collapse"),t.style.height="",S.call(t,"hidden","collapse")})};this.toggle=function(t){t.preventDefault(),y(a,"show")?l.hide():l.show()},this.hide=function(){a.isAnimating||(s(a,t),g(t,"collapsed"))},this.show=function(){o&&(n=w(".collapse.show",o),i=n&&(w('[data-target="#'+n.id+'"]',o)||w('[href="#'+n.id+'"]',o))),(!a.isAnimating||n&&!n.isAnimating)&&(i&&n!==a&&(s(n,i),g(i,"collapsed")),function(t,e){S.call(t,"show","collapse"),t.isAnimating=!0,g(t,"collapsing"),m(t,"collapse"),t.style.height=t.scrollHeight+"px",k(t,function(){t.isAnimating=!1,t.setAttribute("aria-expanded","true"),e.setAttribute("aria-expanded","true"),m(t,"collapsing"),g(t,"collapse"),g(t,"show"),t.style.height="",S.call(t,"shown","collapse")})}(a,t),m(t,"collapsed"))},"Collapse"in t||A(t,"click",l.toggle),(a=function(){var e=t.href&&t.getAttribute("href"),n=t.getAttribute("data-target"),i=e||n&&"#"===n.charAt(0)&&n;return i&&w(i)}()).isAnimating=!1,o=w(e.parent)||r&&v(t,r),t.Collapse=l};o.push(["Collapse",E,'[data-toggle="collapse"]']);var L=function(t){t=w(t);var e=this,n=v(t,".alert"),i=function(i){n=v(i.target,".alert"),(t=w('[data-dismiss="alert"]',n))&&n&&(t===i.target||t.contains(i.target))&&e.close()},o=function(){S.call(n,"closed","alert"),x(t,"click",i),n.parentNode.removeChild(n)};this.close=function(){n&&t&&y(n,"show")&&(S.call(n,"close","alert"),m(n,"show"),n&&(y(n,"fade")?k(n,o):o()))},"Alert"in t||A(t,"click",i),t.Alert=e};o.push(["Alert",L,'[data-dismiss="alert"]']);var H=function(t,e){var n=(t=w(t)).getAttribute("data-height");e=e||{},this.height=!!u&&(e.height||"true"===n);var i,o,r,s,d,c,h,f=this,p=v(t,".nav"),x=!1,T=p&&w(".dropdown-toggle",p),C=function(){x.style.height="",m(x,"collapsing"),p.isAnimating=!1},N=function(){x?c?C():setTimeout(function(){x.style.height=h+"px",x.offsetWidth,k(x,C)},50):p.isAnimating=!1,S.call(i,"shown","tab",o)},q=function(){x&&(r.style.float=l,s.style.float=l,d=r.scrollHeight),g(s,a),S.call(i,"show","tab",o),m(r,a),S.call(o,"hidden","tab",i),x&&(h=s.scrollHeight,c=h===d,g(x,"collapsing"),x.style.height=d+"px",x.offsetHeight,r.style.float="",s.style.float=""),y(s,"fade")?setTimeout(function(){g(s,"show"),k(s,N)},20):N()};if(p){p.isAnimating=!1;var E=function(){var t,e=b(p,a);return 1!==e.length||y(e[0].parentNode,"dropdown")?e.length>1&&(t=e[e.length-1]):t=e[0],t},L=function(){return w(E().getAttribute("href"))};this.show=function(){s=w((i=i||t).getAttribute("href")),o=E(),r=L(),p.isAnimating=!0,m(o,a),o.setAttribute("aria-selected","false"),g(i,a),i.setAttribute("aria-selected","true"),T&&(y(t.parentNode,"dropdown-menu")?y(T,a)||g(T,a):y(T,a)&&m(T,a)),S.call(o,"hide","tab",i),y(r,"fade")?(m(r,"show"),k(r,q)):q()},"Tab"in t||A(t,"click",function(t){t.preventDefault(),i=t.currentTarget,!p.isAnimating&&!y(i,a)&&f.show()}),f.height&&(x=L().parentNode),t.Tab=f}};o.push(["Tab",H,'[data-toggle="tab"]']);var D=function(n,i){n=w(n),i=i||{};var o=n.getAttribute("data-animation"),a=n.getAttribute("data-placement"),l=n.getAttribute("data-delay"),d=n.getAttribute("data-container"),c=w(i.container),u=w(d),h=v(n,".modal"),f=v(n,".fixed-top"),p=v(n,".fixed-bottom");this.animation=i.animation&&"fade"!==i.animation?i.animation:o||"fade",this.placement=i.placement?i.placement:a||r,this.delay=parseInt(i.delay||l)||200,this.container=c||u||f||p||h||e.body;var b=this,T=0,N=this.placement,q=null,E=n.getAttribute("title")||n.getAttribute("data-title")||n.getAttribute("data-original-title");if(E&&""!=E){var L=function(){A(t,"resize",b.hide),S.call(n,"shown","tooltip")},H=function(){x(t,"resize",b.hide),b.container.removeChild(q),q=null,T=null,S.call(n,"hidden","tooltip")};this.show=function(){clearTimeout(T),T=setTimeout(function(){if(null===q){if(N=b.placement,0==function(){if(!(E=n.getAttribute("title")||n.getAttribute("data-title")||n.getAttribute("data-original-title"))||""==E)return!1;(q=e.createElement("div")).setAttribute("role","tooltip");var t=e.createElement("div");t.setAttribute("class","arrow"),q.appendChild(t);var i=e.createElement("div");i.setAttribute("class","tooltip-inner"),q.appendChild(i),i.innerHTML=E,b.container.appendChild(q),q.setAttribute("class","tooltip bs-tooltip-"+N+" "+b.animation)}())return;C(n,q,N,b.container),!y(q,"show")&&g(q,"show"),S.call(n,"show","tooltip"),b.animation?k(q,L):L()}},20)},this.hide=function(){clearTimeout(T),T=setTimeout(function(){q&&y(q,"show")&&(S.call(n,"hide","tooltip"),m(q,"show"),b.animation?k(q,H):H())},b.delay)},this.toggle=function(){q?b.hide():b.show()},"Tooltip"in n||(n.setAttribute("data-original-title",E),n.removeAttribute("title"),A(n,s[0],b.show),A(n,s[1],b.hide)),n.Tooltip=b}};o.push(["Tooltip",D,'[data-toggle="tooltip"]']);var M=function(t,e){for(var n=0,i=e.length;n<i;n++)new t(e[n])},O=i.initCallback=function(t){t=t||e;for(var n=0,i=o.length;n<i;n++)M(o[n][1],t.querySelectorAll(o[n][2]))};return e.body?O():A(e,"DOMContentLoaded",function(){O()}),{Modal:N,Dropdown:q,Collapse:E,Alert:L,Tab:H,Tooltip:D}})?i.apply(e,o):i)||(t.exports=a)},70:function(t,e,n){t.exports=n(96)},96:function(t,e,n){"use strict";n.r(e);const i=function(t,e=2){var n="0px";if(t.getAttribute("data-max-height")){let e=t.style.maxHeight;e=e&&e.replace("px","").replace("%",""),t.style.maxHeight="0"===e?t.getAttribute("data-max-height"):"0"}else n=function(t){var e,n=window.getComputedStyle(t),i=n.display,o=n.position,a=n.visibility,l=n.maxHeight&&n.maxHeight.replace("px","").replace("%","");return"none"!==i&&"0"!==l?t.offsetHeight:(t.style.position="absolute",t.style.visibility="hidden",t.style.display="block",e=t.offsetHeight,t.style.display=i,t.style.position=o,t.style.visibility=a,e)}(t)+"px",t.style.transition=`max-height ${e}s ease-in-out`,t.style.overflow="hidden",t.style.maxHeight="0",t.setAttribute("data-max-height",n),t.style.display="block",setTimeout(function(){t.style.maxHeight=n},10)};var o=n(16);const a=()=>{const t=document.querySelector(".status-refusal");if(null!==t){t.style.display="none";const n=document.querySelector("#id_resolution");if(n){var e=n.value;null===/refus/.exec(e)&&null===/partial/.exec(e)||i(t,.5)}}const n=document.querySelector(".status-redirected");if(null!==n){n.style.display="none";const t=document.querySelector('input[name="status"][value="request_redirected"]');null!==t&&t.getAttribute("checked")&&i(n,.5)}},l=()=>{Array.from(document.querySelectorAll(".comment-form")).forEach(t=>{t.style.display="none"});const t=document.querySelector(".request-nav");if(null!==t)for(var e=t.getElementsByTagName("A"),n=0;n<e.length;n++)new o.Tab(e[n],{height:!1});const i=document.querySelector("#id_resolution");null!==i&&i.addEventListener("change",a);const l=document.querySelector('input[name="status"]');null!==l&&l.addEventListener("change",a),a();const r=document.querySelectorAll('a[data-tabgo="tab"]');if(Array.from(r).forEach(t=>{t.addEventListener("click",function(t){var e=this.attributes.getNamedItem("href");if(null!==e){var n=e&&e.value,i=document.querySelector(n);if(null!==i){if("none"===window.getComputedStyle(i,null).display){let t=document.querySelector('.nav-link[href="'+n+'"]');t&&t.Tab&&t.Tab.show()}if(i.scrollIntoView&&(t.preventDefault(),i.scrollIntoView({behavior:"smooth"})),this.dataset&&this.dataset.value){var o='[name="'+this.dataset.name+'"][value="'+this.dataset.value+'"]';let t=i.querySelector(o);t&&t.setAttribute("checked","")}this.dataset&&this.dataset.addtextfield&&(t=>{if(!t.addtextfield)return;const e=document.querySelector(t.addtextfield);if(null===e)return;let n=e.value,i=t.addtext;if(i&&-1===n.indexOf(i)){if(-1!==n.indexOf("\n...\n"))n=n.replace("...",i);else{let t=n.split("\n\n");n=(t=t.slice(0,t.length-1).concat([i,t[t.length-1]])).join("\n\n")}e.value=n}})(this.dataset)}}})}),null!==t){let e=t.dataset.activetab;if(e&&"info"!==e){let n=t.querySelector('a[href="#'+e+'"]');n&&n.Tab&&n.Tab.show()}else{var s=document.location&&document.location.hash||"";if(s=s.replace(/[^#\-\w]/g,""),null!==document.querySelector('.request-nav a[href="'+s+'"]')){let e=t.querySelector('a[href="'+s+'"]');e&&e.Tab&&e.Tab.show()}else if("info"!==e){let e=t.querySelector('a[href="#info"]');e&&e.Tab&&e.Tab.show()}}}var d=[];document.querySelectorAll(".message-container").forEach(function(t){var e=t.getBoundingClientRect(),n=e.top+window.pageYOffset;d.push({top:n,height:e.height,id:t.id})});var c=null;if(document.addEventListener("scroll",function(){for(var t=window.pageYOffset,e=0;e<d.length;e+=1){var n=d[e];if(t>=n.top&&t<=n.top+n.height){if(c!==n.id){c=n.id,document.querySelectorAll(".message-timeline-listitem a").forEach(function(t){t.classList.remove("active")});var i=document.querySelector('.message-timeline-listitem [href="#'+n.id+'"]');null!==i&&i.classList.add("active")}break}}}),"ontouchstart"in window.document){var u=function(){this.click()};Array.from(document.querySelectorAll(".message-timeline-item")).forEach(function(t){t.addEventListener("touchstart",u)})}else Array.from(document.querySelectorAll(".message-timeline-item")).forEach(function(t){new o.Tooltip(t)})};"loading"===document.readyState?window.document.addEventListener("DOMContentLoaded",l):l()}})});
//# sourceMappingURL=request.js.map